<!$Id: atmel-header.html 19278 2009-11-23 09:15:44Z sschneid $>
<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
  <title>AVR2025: IEEE 802.15.4 MAC Reference Manual</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>

<table width="100%" height="10%" bgcolor="#FFFFFF">
  <tr>
    <td colspan="2"><p><A href=http://www.atmel.com ><img src="../..//graphics//atmel.jpg"/ border=0></A></p><br /></td>
    <td colspan="2"> <strong><font face="Helvetica" color="#000000" size="+3">Microcontroller Wireless Solutions</font></strong></td>
    <td colspan="2"><p><A href=http://www.atmel.com/products/AVR><img src="../..//graphics//AVR_logo_blue.gif"/ border=0></A></p><br /></td>
  </tr>
  <tr>
    <td colspan="6" height="1" background="../..//graphics//blue.gif"></td>
  </tr>
</table>
<!-- Generated by Doxygen 1.7.4 -->
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('a00021.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">pal.h</div>  </div>
</div>
<div class="contents">
<a href="a00021.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00014"></a>00014 <span class="comment">/*</span>
<a name="l00015"></a>00015 <span class="comment"> * Copyright (c) 2009, Atmel Corporation All rights reserved.</span>
<a name="l00016"></a>00016 <span class="comment"> *</span>
<a name="l00017"></a>00017 <span class="comment"> * Licensed under Atmel&#39;s Limited License Agreement --&gt; EULA.txt</span>
<a name="l00018"></a>00018 <span class="comment"> */</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="comment">/* Prevent double inclusion */</span>
<a name="l00021"></a>00021 <span class="preprocessor">#ifndef PAL_H</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span><span class="preprocessor">#define PAL_H</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span>
<a name="l00024"></a>00024 <span class="comment">/*</span>
<a name="l00025"></a>00025 <span class="comment"> * NOTE:- Include &#39;return_val.h&#39; before this file, as return_val.h has the</span>
<a name="l00026"></a>00026 <span class="comment"> *        all return value enums.</span>
<a name="l00027"></a>00027 <span class="comment"> */</span>
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="comment">/* === Includes ============================================================ */</span>
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;stdbool.h&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;stdint.h&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;pal_types.h&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;pal_config.h&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#if (PAL_GENERIC_TYPE == MEGA_RF)</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span><span class="preprocessor">#include &quot;pal_mcu_generic.h&quot;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#endif</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span><span class="preprocessor">#include &quot;app_config.h&quot;</span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="comment">/* === Macros =============================================================== */</span>
<a name="l00041"></a>00041 
<a name="l00045"></a><a class="code" href="a00021.html#af485a983d3b4c61f818aa2a4786963a6">00045</a> <span class="preprocessor">#define ADD_TIME(a, b)                  ((a) + (b))</span>
<a name="l00046"></a>00046 <span class="preprocessor"></span>
<a name="l00050"></a><a class="code" href="a00021.html#aa74dc5db6d36f7ae7a7eea78d006d41d">00050</a> <span class="preprocessor">#define SUB_TIME(a, b)                  ((a) - (b))</span>
<a name="l00051"></a>00051 <span class="preprocessor"></span>
<a name="l00055"></a>00055 <span class="preprocessor">#if (PAL_GENERIC_TYPE == AVR32)</span>
<a name="l00056"></a><a class="code" href="a00021.html#a4a27c06ec07e0598e6d839a450c5aee7">00056</a> <span class="preprocessor"></span><span class="preprocessor">#define U16_TO_TARGET(x) ((((x) &lt;&lt; 8) &amp; 0xFF00) | (((x) &gt;&gt; 8) &amp; 0x00FF))</span>
<a name="l00057"></a>00057 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00058"></a>00058 <span class="preprocessor"></span><span class="preprocessor">#define U16_TO_TARGET(x) (x)</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00060"></a>00060 <span class="preprocessor"></span>
<a name="l00061"></a>00061 <span class="comment">/* === Types =============================================================== */</span>
<a name="l00062"></a>00062 
<a name="l00066"></a>00066 <span class="comment">/* Please dont change this type. */</span>
<a name="l00067"></a><a class="code" href="a00021.html#a4f40b2101c66f9fc1ba59c333b1404b8">00067</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="a00021.html#a4f40b2101c66f9fc1ba59c333b1404b8">pin_state_tag</a>
<a name="l00068"></a>00068 {
<a name="l00070"></a><a class="code" href="a00021.html#a4f40b2101c66f9fc1ba59c333b1404b8a6a226f4143ca3b18999551694cdb72a8">00070</a>     <a class="code" href="a00021.html#a4f40b2101c66f9fc1ba59c333b1404b8a6a226f4143ca3b18999551694cdb72a8">LOW</a>,
<a name="l00072"></a><a class="code" href="a00021.html#a4f40b2101c66f9fc1ba59c333b1404b8a0c3a1dacf94061154b3ee354359c5893">00072</a>     <a class="code" href="a00021.html#a4f40b2101c66f9fc1ba59c333b1404b8a0c3a1dacf94061154b3ee354359c5893">HIGH</a>
<a name="l00073"></a>00073 } <a class="code" href="a00026.html#afc9d7f23dd99f89ef40b343ef0ca34d2">SHORTENUM</a> <a class="code" href="a00021.html#a901c39b0e49287a01dffc2dfb97d4516">pin_state_t</a>;
<a name="l00074"></a>00074 
<a name="l00075"></a>00075 
<a name="l00076"></a>00076 <span class="preprocessor">#if defined (SIO_HUB) || defined(DOXYGEN)</span>
<a name="l00077"></a>00077 <span class="preprocessor"></span>
<a name="l00080"></a><a class="code" href="a00021.html#a302920a48d9bab97684eccae9ce0c2a7">00080</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="a00021.html#a302920a48d9bab97684eccae9ce0c2a7">sio_serial_tag</a>
<a name="l00081"></a>00081 {
<a name="l00082"></a>00082     <span class="comment">/* Serial unit used by user */</span>
<a name="l00084"></a><a class="code" href="a00021.html#a302920a48d9bab97684eccae9ce0c2a7ae994c9092f7f6aef5b7ab530af281a5f">00084</a>     <a class="code" href="a00021.html#a302920a48d9bab97684eccae9ce0c2a7ae994c9092f7f6aef5b7ab530af281a5f">SIO_0</a>,
<a name="l00086"></a><a class="code" href="a00021.html#a302920a48d9bab97684eccae9ce0c2a7a8c1009dd2cc4b4adef8a951d0d4d7b39">00086</a>     <a class="code" href="a00021.html#a302920a48d9bab97684eccae9ce0c2a7a8c1009dd2cc4b4adef8a951d0d4d7b39">SIO_1</a>,
<a name="l00088"></a><a class="code" href="a00021.html#a302920a48d9bab97684eccae9ce0c2a7a09087b86411878bb1f8b2933b39b172b">00088</a>     <a class="code" href="a00021.html#a302920a48d9bab97684eccae9ce0c2a7a09087b86411878bb1f8b2933b39b172b">SIO_2</a>,
<a name="l00090"></a><a class="code" href="a00021.html#a302920a48d9bab97684eccae9ce0c2a7a15c7161eb22cd3c895f38892ceed74f4">00090</a>     <a class="code" href="a00021.html#a302920a48d9bab97684eccae9ce0c2a7a15c7161eb22cd3c895f38892ceed74f4">SIO_3</a>,
<a name="l00092"></a><a class="code" href="a00021.html#a302920a48d9bab97684eccae9ce0c2a7a61c637df692a90d4a4e9ee69330e1364">00092</a>     <a class="code" href="a00021.html#a302920a48d9bab97684eccae9ce0c2a7a61c637df692a90d4a4e9ee69330e1364">SIO_4</a>
<a name="l00093"></a>00093 } <a class="code" href="a00026.html#afc9d7f23dd99f89ef40b343ef0ca34d2">SHORTENUM</a> <a class="code" href="a00021.html#a3dd395d5e7770ee7cb63dd3aed171ee3">sio_serial_t</a>;
<a name="l00094"></a>00094 <span class="preprocessor">#endif</span>
<a name="l00095"></a>00095 <span class="preprocessor"></span>
<a name="l00096"></a>00096 
<a name="l00100"></a><a class="code" href="a00021.html#a9bee3fa507802eec2c8f6ceeb0c49ea9">00100</a> <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l00101"></a>00101 <a class="code" href="a00021.html#a9bee3fa507802eec2c8f6ceeb0c49ea9">timeout_type_tag</a>
<a name="l00102"></a>00102 {
<a name="l00104"></a><a class="code" href="a00021.html#a9bee3fa507802eec2c8f6ceeb0c49ea9a734599f0467ada87fd6fdeef14027807">00104</a>     <a class="code" href="a00021.html#a9bee3fa507802eec2c8f6ceeb0c49ea9a734599f0467ada87fd6fdeef14027807">TIMEOUT_RELATIVE</a>,
<a name="l00106"></a><a class="code" href="a00021.html#a9bee3fa507802eec2c8f6ceeb0c49ea9acbb61438d427d222eaf4ca6cd3ce5494">00106</a>     <a class="code" href="a00021.html#a9bee3fa507802eec2c8f6ceeb0c49ea9acbb61438d427d222eaf4ca6cd3ce5494">TIMEOUT_ABSOLUTE</a>
<a name="l00107"></a>00107 } <a class="code" href="a00026.html#afc9d7f23dd99f89ef40b343ef0ca34d2">SHORTENUM</a> <a class="code" href="a00021.html#a372aa39c6bac658707b2af4ff330479f">timeout_type_t</a>;
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 
<a name="l00113"></a><a class="code" href="a00021.html#aa6446bfa087f4f4151153c22fee74999">00113</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="a00021.html#aa6446bfa087f4f4151153c22fee74999">source_type_tag</a>
<a name="l00114"></a>00114 {
<a name="l00116"></a><a class="code" href="a00021.html#aa6446bfa087f4f4151153c22fee74999abec1cd89a5bb9526defd6225a9e319e1">00116</a>     <a class="code" href="a00021.html#aa6446bfa087f4f4151153c22fee74999abec1cd89a5bb9526defd6225a9e319e1">TMR_CLK_SRC_DURING_TRX_SLEEP</a>,
<a name="l00118"></a><a class="code" href="a00021.html#aa6446bfa087f4f4151153c22fee74999a850a5455e0dc6ef5a081d741755a64c6">00118</a>     <a class="code" href="a00021.html#aa6446bfa087f4f4151153c22fee74999a850a5455e0dc6ef5a081d741755a64c6">TMR_CLK_SRC_DURING_TRX_AWAKE</a>
<a name="l00119"></a>00119 } <a class="code" href="a00026.html#afc9d7f23dd99f89ef40b343ef0ca34d2">SHORTENUM</a> <a class="code" href="a00021.html#ad81a470a533a77ac92563ea813734894">source_type_t</a>;
<a name="l00120"></a>00120 
<a name="l00124"></a><a class="code" href="a00021.html#a4cbcaaa1ecfce70baae543ca1f0c8b32">00124</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="a00021.html#a4cbcaaa1ecfce70baae543ca1f0c8b32" title="IDs for persistence storage access.">ps_id_tag</a>
<a name="l00125"></a>00125 {
<a name="l00126"></a>00126     PS_IEEE_ADDR,
<a name="l00127"></a>00127     PS_XTAL_TRIM
<a name="l00128"></a>00128 } <a class="code" href="a00026.html#afc9d7f23dd99f89ef40b343ef0ca34d2">SHORTENUM</a> <a class="code" href="a00021.html#addc420cb3a6595d19c93b6b3f1363013" title="IDs for persistence storage access.">ps_id_t</a>;
<a name="l00129"></a>00129 
<a name="l00130"></a>00130 
<a name="l00134"></a><a class="code" href="a00021.html#a32c91806208cec8081687a73ba6ee128">00134</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="a00021.html#a32c91806208cec8081687a73ba6ee128" title="IDs for persistence storage type.">ps_type_tag</a>
<a name="l00135"></a>00135 {
<a name="l00137"></a><a class="code" href="a00021.html#a32c91806208cec8081687a73ba6ee128a516fbed339b363943131b7d437e7c57e">00137</a>     <a class="code" href="a00021.html#a32c91806208cec8081687a73ba6ee128a516fbed339b363943131b7d437e7c57e">INTERN_EEPROM</a>,
<a name="l00139"></a><a class="code" href="a00021.html#a32c91806208cec8081687a73ba6ee128ab4a896f877a9e7a5d8938aeb4ebb4864">00139</a>     <a class="code" href="a00021.html#a32c91806208cec8081687a73ba6ee128ab4a896f877a9e7a5d8938aeb4ebb4864">EXTERN_EEPROM</a>
<a name="l00140"></a>00140 } <a class="code" href="a00026.html#afc9d7f23dd99f89ef40b343ef0ca34d2">SHORTENUM</a> <a class="code" href="a00021.html#a5b9c22e93fdff8192c3d7e2a27c470a4" title="IDs for persistence storage type.">ps_type_t</a>;
<a name="l00141"></a>00141 
<a name="l00142"></a>00142 
<a name="l00146"></a><a class="code" href="a00021.html#a1256740334139058b73d97a8a4ad2b41">00146</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="a00021.html#a1256740334139058b73d97a8a4ad2b41" title="LED action.">led_action_tag</a>
<a name="l00147"></a>00147 {
<a name="l00149"></a><a class="code" href="a00021.html#a1256740334139058b73d97a8a4ad2b41add01b80eb93658fb4cf7eb9aceb89a1d">00149</a>     <a class="code" href="a00021.html#a1256740334139058b73d97a8a4ad2b41add01b80eb93658fb4cf7eb9aceb89a1d">LED_ON</a>,
<a name="l00151"></a><a class="code" href="a00021.html#a1256740334139058b73d97a8a4ad2b41afc0ca8cc6cbe215fd3f1ae6d40255b40">00151</a>     <a class="code" href="a00021.html#a1256740334139058b73d97a8a4ad2b41afc0ca8cc6cbe215fd3f1ae6d40255b40">LED_OFF</a>,
<a name="l00153"></a><a class="code" href="a00021.html#a1256740334139058b73d97a8a4ad2b41a1b3bca014fbbfe339c8e216d175bae2e">00153</a>     <a class="code" href="a00021.html#a1256740334139058b73d97a8a4ad2b41a1b3bca014fbbfe339c8e216d175bae2e">LED_TOGGLE</a>
<a name="l00154"></a>00154 } <a class="code" href="a00026.html#afc9d7f23dd99f89ef40b343ef0ca34d2">SHORTENUM</a> <a class="code" href="a00021.html#a064eaf0a8ed6af4f3b2b0ec12448b815" title="LED action.">led_action_t</a>;
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 
<a name="l00160"></a><a class="code" href="a00021.html#aa68bad5cebc41965c4c542d53a548500">00160</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="a00021.html#aa68bad5cebc41965c4c542d53a548500" title="Button action.">button_state_tag</a>
<a name="l00161"></a>00161 {
<a name="l00163"></a><a class="code" href="a00021.html#aa68bad5cebc41965c4c542d53a548500abd19dea9e19d02d7d39464dfdde1e48b">00163</a>     <a class="code" href="a00021.html#aa68bad5cebc41965c4c542d53a548500abd19dea9e19d02d7d39464dfdde1e48b">BUTTON_PRESSED</a>,
<a name="l00165"></a><a class="code" href="a00021.html#aa68bad5cebc41965c4c542d53a548500ae440e029a4c2362ed3ce383284b511f8">00165</a>     <a class="code" href="a00021.html#aa68bad5cebc41965c4c542d53a548500ae440e029a4c2362ed3ce383284b511f8">BUTTON_OFF</a>
<a name="l00166"></a>00166 } <a class="code" href="a00026.html#afc9d7f23dd99f89ef40b343ef0ca34d2">SHORTENUM</a> <a class="code" href="a00021.html#a46b81c3077d03d654c0b66c153dc4d6b" title="Button action.">button_state_t</a>;
<a name="l00167"></a>00167 
<a name="l00168"></a>00168 
<a name="l00172"></a><a class="code" href="a00021.html#aaf594dda2f6012c90995fdc3f258f8d1">00172</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="a00021.html#aaf594dda2f6012c90995fdc3f258f8d1" title="Power modes.">pwr_mode_tag</a>
<a name="l00173"></a>00173 {
<a name="l00174"></a>00174     SYSTEM_SLEEP
<a name="l00175"></a>00175 } <a class="code" href="a00021.html#af98b4aeae4daf01f55a0b530f143a157" title="Power modes.">pwr_mode_t</a>;
<a name="l00176"></a>00176 
<a name="l00177"></a>00177 
<a name="l00181"></a><a class="code" href="a00021.html#a73c40bab4af81ce4df0c8b04471c8ac0">00181</a> <span class="keyword">typedef</span> void (*<a class="code" href="a00021.html#a73c40bab4af81ce4df0c8b04471c8ac0" title="Transceiver ISR handler.">irq_handler_t</a>)(void);
<a name="l00182"></a>00182 
<a name="l00183"></a>00183 
<a name="l00184"></a>00184 <span class="preprocessor">#ifdef TEST_HARNESS</span>
<a name="l00185"></a>00185 <span class="preprocessor"></span><span class="preprocessor">#if (DEBUG &gt; 0)</span>
<a name="l00186"></a>00186 <span class="preprocessor"></span>
<a name="l00189"></a>00189 <span class="keyword">typedef</span> <span class="keyword">struct </span>assert_tag
<a name="l00190"></a>00190 {
<a name="l00192"></a>00192     uint8_t size            ALIGN8BIT;
<a name="l00194"></a>00194     uint8_t assert_cmdcode  ALIGN8BIT;
<a name="l00196"></a>00196     uint8_t data[1]         ALIGN8BIT;
<a name="l00197"></a>00197 } assert_t;
<a name="l00198"></a>00198 <span class="preprocessor">#endif  </span><span class="comment">/* (DEBUG &gt; 0) */</span>
<a name="l00199"></a>00199 <span class="preprocessor">#endif  </span><span class="comment">/* TEST_HARNESS */</span>
<a name="l00200"></a>00200 
<a name="l00201"></a>00201 <span class="comment">/* === Externals ============================================================ */</span>
<a name="l00202"></a>00202 
<a name="l00203"></a>00203 
<a name="l00204"></a>00204 <span class="comment">/* === Prototypes =========================================================== */</span>
<a name="l00205"></a>00205 
<a name="l00206"></a>00206 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00207"></a>00207 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {
<a name="l00208"></a>00208 <span class="preprocessor">#endif</span>
<a name="l00209"></a>00209 <span class="preprocessor"></span>
<a name="l00218"></a>00218 retval_t <a class="code" href="a00032.html#ga7ba90b2aacd564c33138bf6902bd8bca" title="Initialization of PAL.">pal_init</a>(<span class="keywordtype">void</span>);
<a name="l00219"></a>00219 
<a name="l00220"></a>00220 
<a name="l00226"></a>00226 <span class="keywordtype">void</span> <a class="code" href="a00021.html#a057e433e0200eb99b5f67c5336dbc323" title="Services timer and sio handler.">pal_task</a>(<span class="keywordtype">void</span>);
<a name="l00227"></a>00227 
<a name="l00228"></a>00228 <span class="preprocessor">#if (PAL_GENERIC_TYPE != MEGA_RF)</span>
<a name="l00229"></a>00229 <span class="preprocessor"></span>
<a name="l00238"></a>00238 <span class="keywordtype">void</span> pal_trx_irq_init(FUNC_PTR trx_irq_cb);
<a name="l00239"></a>00239 <span class="preprocessor">#endif </span><span class="comment">/* (PAL_GENERIC_TYPE != MEGA_RF) */</span>
<a name="l00240"></a>00240 
<a name="l00250"></a>00250 <span class="keywordtype">void</span> <a class="code" href="a00032.html#ga4cbbd2d6e5075f5cd7b35e7037906b2a" title="Initializes the transceiver timestamp interrupt.">pal_trx_irq_init_tstamp</a>(FUNC_PTR trx_irq_cb);
<a name="l00251"></a>00251 
<a name="l00252"></a>00252 <span class="preprocessor">#if (PAL_GENERIC_TYPE == MEGA_RF)</span>
<a name="l00253"></a>00253 <span class="preprocessor"></span>
<a name="l00261"></a>00261 <span class="keywordtype">void</span> <a class="code" href="a00021.html#aa88a5add7c7a8c0ecd906037ce30040c" title="Initializes the transceiver RX END interrupt.">pal_trx_irq_init_rx_end</a>(FUNC_PTR trx_irq_cb);
<a name="l00262"></a>00262 
<a name="l00271"></a>00271 <span class="keywordtype">void</span> <a class="code" href="a00021.html#ab11c19bc96f15a648c1f6fcf501800b3" title="Initializes the transceiver TX END interrupt.">pal_trx_irq_init_tx_end</a>(FUNC_PTR trx_irq_cb);
<a name="l00272"></a>00272 
<a name="l00281"></a>00281 <span class="keywordtype">void</span> <a class="code" href="a00021.html#a838486494ec3a1ba952bc8515fd4f72e" title="Initializes the transceiver CCA ED END interrupt.">pal_trx_irq_init_cca_ed</a>(FUNC_PTR trx_irq_cb);
<a name="l00282"></a>00282 
<a name="l00291"></a>00291 <span class="keywordtype">void</span> <a class="code" href="a00021.html#a70d687e32fb48dc7f569b80228e8a55f" title="Initializes the transceiver AWAKE interrupt.">pal_trx_irq_init_awake</a>(FUNC_PTR trx_irq_cb);
<a name="l00292"></a>00292 
<a name="l00293"></a>00293 <span class="preprocessor">#ifdef ENABLE_ALL_TRX_IRQS</span>
<a name="l00294"></a>00294 <span class="preprocessor"></span>
<a name="l00302"></a>00302 <span class="keywordtype">void</span> pal_trx_irq_init_ami(FUNC_PTR trx_irq_cb);
<a name="l00303"></a>00303 
<a name="l00312"></a>00312 <span class="keywordtype">void</span> pal_trx_irq_init_batmon(FUNC_PTR trx_irq_cb);
<a name="l00313"></a>00313 
<a name="l00322"></a>00322 <span class="keywordtype">void</span> pal_trx_irq_init_pll_lock(FUNC_PTR trx_irq_cb);
<a name="l00323"></a>00323 
<a name="l00332"></a>00332 <span class="keywordtype">void</span> pal_trx_irq_init_pll_unlock(FUNC_PTR trx_irq_cb);
<a name="l00333"></a>00333 
<a name="l00342"></a>00342 <span class="keywordtype">void</span> pal_trx_irq_init_aes_ready(FUNC_PTR trx_irq_cb);
<a name="l00343"></a>00343 
<a name="l00344"></a>00344 <span class="preprocessor">#if PAL_TYPE == ATMEGA256RFR1 || PAL_TYPE == ATMEGA256RFR2</span>
<a name="l00345"></a>00345 <span class="preprocessor"></span>
<a name="l00353"></a>00353 <span class="keywordtype">void</span> pal_trx_irq_init_tx_start(FUNC_PTR trx_irq_cb);
<a name="l00354"></a>00354 
<a name="l00363"></a>00363 <span class="keywordtype">void</span> pal_trx_irq_init_maf_0_ami(FUNC_PTR trx_irq_cb);
<a name="l00364"></a>00364 
<a name="l00373"></a>00373 <span class="keywordtype">void</span> pal_trx_irq_init_maf_1_ami(FUNC_PTR trx_irq_cb);
<a name="l00374"></a>00374 
<a name="l00383"></a>00383 <span class="keywordtype">void</span> pal_trx_irq_init_maf_2_ami(FUNC_PTR trx_irq_cb);
<a name="l00384"></a>00384 
<a name="l00393"></a>00393 <span class="keywordtype">void</span> pal_trx_irq_init_maf_3_ami(FUNC_PTR trx_irq_cb);
<a name="l00394"></a>00394 <span class="preprocessor">#endif  </span><span class="comment">/* ATMEGA256RFR1 */</span>
<a name="l00395"></a>00395 
<a name="l00396"></a>00396 <span class="preprocessor">#endif  </span><span class="comment">/* ENABLE_ALL_TRX_IRQS */</span>
<a name="l00397"></a>00397 <span class="preprocessor">#endif  </span><span class="comment">/* #if (PAL_GENERIC_TYPE == MEGA_RF) */</span>
<a name="l00398"></a>00398 
<a name="l00399"></a>00399 <span class="preprocessor">#if (PAL_GENERIC_TYPE != MEGA_RF)</span>
<a name="l00400"></a>00400 <span class="preprocessor"></span>
<a name="l00411"></a>00411 <span class="preprocessor">#define pal_trx_irq_en()                ENABLE_TRX_IRQ()</span>
<a name="l00412"></a>00412 <span class="preprocessor"></span>
<a name="l00424"></a>00424 <span class="preprocessor">#define pal_trx_irq_en_tstamp()         ENABLE_TRX_IRQ_TSTAMP()</span>
<a name="l00425"></a>00425 <span class="preprocessor"></span>
<a name="l00437"></a>00437 <span class="preprocessor">#define pal_trx_irq_dis()               DISABLE_TRX_IRQ()</span>
<a name="l00438"></a>00438 <span class="preprocessor"></span>
<a name="l00450"></a>00450 <span class="preprocessor">#define pal_trx_irq_dis_tstamp()        DISABLE_TRX_IRQ_TSTAMP()</span>
<a name="l00451"></a>00451 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* #if (PAL_GENERIC_TYPE != MEGA_RF) */</span>
<a name="l00452"></a>00452 
<a name="l00458"></a><a class="code" href="a00032.html#ga5dcd7b8abcfd7b18769714fa8dedd90f">00458</a> <span class="preprocessor">#define pal_trx_irq_flag_clr()          CLEAR_TRX_IRQ()</span>
<a name="l00459"></a>00459 <span class="preprocessor"></span>
<a name="l00465"></a><a class="code" href="a00032.html#ga115abbb85f0e20205a781e8064ea9d98">00465</a> <span class="preprocessor">#define pal_trx_irq_flag_clr_tstamp()   CLEAR_TRX_IRQ_TSTAMP()</span>
<a name="l00466"></a>00466 <span class="preprocessor"></span>
<a name="l00467"></a>00467 <span class="preprocessor">#if (PAL_GENERIC_TYPE == MEGA_RF)</span>
<a name="l00468"></a>00468 <span class="preprocessor"></span>
<a name="l00473"></a><a class="code" href="a00032.html#ga55fa4f7b7acba8a44ee008419172d689">00473</a> <span class="preprocessor">#define pal_trx_irq_flag_clr_rx_end()   (CLEAR_TRX_IRQ_RX_END())</span>
<a name="l00474"></a>00474 <span class="preprocessor"></span>
<a name="l00480"></a><a class="code" href="a00032.html#ga1599e47b15f8fc61a1dbe6d1c320a998">00480</a> <span class="preprocessor">#define pal_trx_irq_flag_clr_tx_end()   (CLEAR_TRX_IRQ_TX_END())</span>
<a name="l00481"></a>00481 <span class="preprocessor"></span>
<a name="l00487"></a><a class="code" href="a00032.html#gae2fb4a7d11e8ddecb9a841786f0c4ce3">00487</a> <span class="preprocessor">#define pal_trx_irq_flag_clr_cca_ed()   (CLEAR_TRX_IRQ_CCA_ED())</span>
<a name="l00488"></a>00488 <span class="preprocessor"></span>
<a name="l00494"></a><a class="code" href="a00032.html#gad66370415bdec48a29ff624de45c8f80">00494</a> <span class="preprocessor">#define pal_trx_irq_flag_clr_awake()    (CLEAR_TRX_IRQ_AWAKE())</span>
<a name="l00495"></a>00495 <span class="preprocessor"></span>
<a name="l00496"></a>00496 <span class="preprocessor">#ifdef ENABLE_ALL_TRX_IRQS</span>
<a name="l00497"></a>00497 <span class="preprocessor"></span>
<a name="l00502"></a>00502 <span class="preprocessor">#define pal_trx_irq_flag_clr_ami()      (CLEAR_TRX_IRQ_AMI())</span>
<a name="l00503"></a>00503 <span class="preprocessor"></span>
<a name="l00509"></a>00509 <span class="preprocessor">#define pal_trx_irq_flag_clr_batmon()   (CLEAR_TRX_IRQ_BATMON())</span>
<a name="l00510"></a>00510 <span class="preprocessor"></span>
<a name="l00516"></a>00516 <span class="preprocessor">#define pal_trx_irq_flag_clr_pll_lock() (CLEAR_TRX_IRQ_PLL_LOCK())</span>
<a name="l00517"></a>00517 <span class="preprocessor"></span>
<a name="l00523"></a>00523 <span class="preprocessor">#define pal_trx_irq_flag_clr_pll_unlock()   (CLEAR_TRX_IRQ_PLL_UNLOCK())</span>
<a name="l00524"></a>00524 <span class="preprocessor"></span>
<a name="l00525"></a>00525 <span class="preprocessor">#if PAL_TYPE == ATMEGA256RFR1</span>
<a name="l00526"></a>00526 <span class="preprocessor"></span>
<a name="l00532"></a>00532 <span class="preprocessor">#define pal_trx_irq_flag_clr_tx_start()     (CLEAR_TRX_IRQ_TX_START())</span>
<a name="l00533"></a>00533 <span class="preprocessor"></span>
<a name="l00539"></a>00539 <span class="preprocessor">#define pal_trx_irq_flag_clr_maf_0_ami()    (CLEAR_TRX_IRQ_MAF_0_AMI())</span>
<a name="l00540"></a>00540 <span class="preprocessor"></span>
<a name="l00546"></a>00546 <span class="preprocessor">#define pal_trx_irq_flag_clr_maf_1_ami()    (CLEAR_TRX_IRQ_MAF_1_AMI())</span>
<a name="l00547"></a>00547 <span class="preprocessor"></span>
<a name="l00553"></a>00553 <span class="preprocessor">#define pal_trx_irq_flag_clr_maf_2_ami()    (CLEAR_TRX_IRQ_MAF_2_AMI())</span>
<a name="l00554"></a>00554 <span class="preprocessor"></span>
<a name="l00560"></a>00560 <span class="preprocessor">#define pal_trx_irq_flag_clr_maf_3_ami()    (CLEAR_TRX_IRQ_MAF_3_AMI())</span>
<a name="l00561"></a>00561 <span class="preprocessor"></span>
<a name="l00562"></a>00562 
<a name="l00563"></a>00563 <span class="preprocessor">#endif  </span><span class="comment">/* ATMEGA256RFR1 */</span>
<a name="l00564"></a>00564 
<a name="l00565"></a>00565 <span class="preprocessor">#endif  </span><span class="comment">/* ENABLE_ALL_TRX_IRQS */</span>
<a name="l00566"></a>00566 <span class="preprocessor">#endif  </span><span class="comment">/* #if (PAL_GENERIC_TYPE == MEGA_RF) */</span>
<a name="l00567"></a>00567 
<a name="l00568"></a>00568 
<a name="l00573"></a>00573 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> pal_global_irq_enable(<span class="keywordtype">void</span>)
<a name="l00574"></a>00574 {
<a name="l00575"></a>00575     ENABLE_GLOBAL_IRQ();
<a name="l00576"></a>00576 }
<a name="l00577"></a>00577 
<a name="l00578"></a>00578 
<a name="l00583"></a>00583 <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> pal_global_irq_disable(<span class="keywordtype">void</span>)
<a name="l00584"></a>00584 {
<a name="l00585"></a>00585     DISABLE_GLOBAL_IRQ();
<a name="l00586"></a>00586 }
<a name="l00587"></a>00587 
<a name="l00588"></a>00588 
<a name="l00589"></a>00589 
<a name="l00590"></a>00590 <span class="preprocessor">#if defined(ENABLE_HIGH_PRIO_TMR) || defined(DOXYGEN)</span>
<a name="l00591"></a>00591 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00592"></a>00592 <span class="comment"> * Internal prototypes for pal_timer module</span>
<a name="l00593"></a>00593 <span class="comment"> */</span>
<a name="l00611"></a>00611 retval_t <a class="code" href="a00032.html#gaa40af7acb7cbc8898d85019c9f7ade00" title="Starts high priority timer.">pal_start_high_priority_timer</a>(uint8_t timer_id,
<a name="l00612"></a>00612                                        uint16_t timer_count,
<a name="l00613"></a>00613                                        FUNC_PTR timer_cb,
<a name="l00614"></a>00614                                        <span class="keywordtype">void</span> *param_cb);
<a name="l00615"></a>00615 
<a name="l00629"></a>00629 retval_t <a class="code" href="a00032.html#ga7658311cce894ccb2aee2674208e1f6c" title="Stops a high priority timer.">pal_stop_high_priority_timer</a>(uint8_t timer_id);
<a name="l00630"></a>00630 <span class="preprocessor">#endif</span>
<a name="l00631"></a>00631 <span class="preprocessor"></span>
<a name="l00640"></a>00640 <span class="keywordtype">void</span> <a class="code" href="a00032.html#ga1befdc5edc9e6a9f76895140552c7cba" title="Generates blocking delay.">pal_timer_delay</a>(uint16_t delay);
<a name="l00641"></a>00641 
<a name="l00652"></a>00652 <span class="keywordtype">void</span> <a class="code" href="a00032.html#ga1d6ce37f64ee157533691b4113a8a14e" title="Selects timer clock source.">pal_timer_source_select</a>(<a class="code" href="a00021.html#ad81a470a533a77ac92563ea813734894">source_type_t</a> source);
<a name="l00653"></a>00653 
<a name="l00654"></a>00654 <span class="preprocessor">#if (TOTAL_NUMBER_OF_TIMERS &gt; 0) || defined(DOXYGEN)</span>
<a name="l00655"></a>00655 <span class="preprocessor"></span>
<a name="l00667"></a>00667 <span class="keywordtype">bool</span> <a class="code" href="a00032.html#gad15d15a4d0ffa89b390fb170d89f446d" title="Checks if the timer of requested timer identifier is running.">pal_is_timer_running</a>(uint8_t timer_id);
<a name="l00668"></a>00668 <span class="preprocessor">#endif</span>
<a name="l00669"></a>00669 <span class="preprocessor"></span>
<a name="l00671"></a>00671 <span class="preprocessor">#if (DEBUG &gt; 0)</span>
<a name="l00672"></a>00672 <span class="preprocessor"></span><span class="keywordtype">bool</span> pal_are_all_timers_stopped(<span class="keywordtype">void</span>);
<a name="l00673"></a>00673 <span class="preprocessor">#endif  </span><span class="comment">/* (DEBUG &gt; 0) */</span>
<a name="l00674"></a>00674 
<a name="l00686"></a>00686 <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t pal_add_time_us(uint32_t a, uint32_t b)
<a name="l00687"></a>00687 {
<a name="l00688"></a>00688     <span class="keywordflow">return</span> (<a class="code" href="a00021.html#af485a983d3b4c61f818aa2a4786963a6">ADD_TIME</a>(a, b));
<a name="l00689"></a>00689 }
<a name="l00690"></a>00690 
<a name="l00691"></a>00691 
<a name="l00701"></a>00701 <span class="keyword">static</span> <span class="keyword">inline</span> uint32_t pal_sub_time_us(uint32_t a, uint32_t b)
<a name="l00702"></a>00702 {
<a name="l00703"></a>00703     <span class="keywordflow">return</span> (<a class="code" href="a00021.html#aa74dc5db6d36f7ae7a7eea78d006d41d">SUB_TIME</a>(a, b));
<a name="l00704"></a>00704 }
<a name="l00705"></a>00705 
<a name="l00706"></a>00706 
<a name="l00707"></a>00707 <span class="comment">/*</span>
<a name="l00708"></a>00708 <span class="comment"> * Macros for TRX GPIO pins access.</span>
<a name="l00709"></a>00709 <span class="comment"> */</span>
<a name="l00711"></a><a class="code" href="a00021.html#a14f2569844671800395115b02424adb5">00711</a> <span class="preprocessor">#define PAL_RST_HIGH()                  RST_HIGH()</span>
<a name="l00712"></a>00712 <span class="preprocessor"></span>
<a name="l00713"></a><a class="code" href="a00021.html#a69366461b21ba05299802358bc8388c0">00713</a> <span class="preprocessor">#define PAL_RST_LOW()                   RST_LOW()</span>
<a name="l00714"></a>00714 <span class="preprocessor"></span>
<a name="l00715"></a><a class="code" href="a00021.html#a909f4d81b984a22c3e09b047b5a8990d">00715</a> <span class="preprocessor">#define PAL_SLP_TR_HIGH()               SLP_TR_HIGH()</span>
<a name="l00716"></a>00716 <span class="preprocessor"></span>
<a name="l00717"></a><a class="code" href="a00021.html#a1441d594c76410852907f9b917141a24">00717</a> <span class="preprocessor">#define PAL_SLP_TR_LOW()                SLP_TR_LOW()</span>
<a name="l00718"></a>00718 <span class="preprocessor"></span>
<a name="l00719"></a><a class="code" href="a00021.html#aa7491952a92556924e96846510a86054">00719</a> <span class="preprocessor">#define PAL_TRX_IRQ_HIGH()              IRQ_PINGET()</span>
<a name="l00720"></a>00720 <span class="preprocessor"></span>
<a name="l00730"></a>00730 <span class="keywordtype">void</span> <a class="code" href="a00032.html#gac65df1a29e2f2f08f3be705a7b91de07" title="Provides timestamp of the last received frame.">pal_trx_read_timestamp</a>(uint32_t *timestamp);
<a name="l00731"></a>00731 
<a name="l00732"></a>00732 <span class="preprocessor">#ifdef SNIFFER</span>
<a name="l00733"></a>00733 <span class="preprocessor"></span>
<a name="l00741"></a>00741 <span class="keywordtype">void</span> pal_trx_write_timestamp(uint32_t *timestamp);
<a name="l00742"></a>00742 <span class="preprocessor">#endif  </span><span class="comment">/* SNIFFER */</span>
<a name="l00743"></a>00743 
<a name="l00744"></a>00744 <span class="comment">/*</span>
<a name="l00745"></a>00745 <span class="comment"> * Prototypes for transceiver access.  Some PALs define these as</span>
<a name="l00746"></a>00746 <span class="comment"> * macros instead of implementing them as functions, so only declare</span>
<a name="l00747"></a>00747 <span class="comment"> * them here if they are not implemented as macros.</span>
<a name="l00748"></a>00748 <span class="comment"> */</span>
<a name="l00749"></a>00749 <span class="preprocessor">#if defined(PAL_USE_SPI_TRX) || defined(DOXYGEN)</span>
<a name="l00750"></a>00750 <span class="preprocessor"></span>
<a name="l00760"></a>00760 <span class="keywordtype">void</span> <a class="code" href="a00032.html#ga567fce74d2ddb73921f679c1a907cd2f" title="Reads frame buffer of the transceiver.">pal_trx_frame_read</a>(uint8_t* data, uint8_t length);
<a name="l00761"></a>00761 
<a name="l00771"></a>00771 <span class="keywordtype">void</span> <a class="code" href="a00032.html#ga89baa48c35c21c98b853f56ad42b9da6" title="Writes data into frame buffer of the transceiver.">pal_trx_frame_write</a>(uint8_t* data, uint8_t length);
<a name="l00772"></a>00772 
<a name="l00784"></a>00784 uint8_t <a class="code" href="a00032.html#ga3b0bf90d2d517ddc581401bef389591d" title="Reads current value from a transceiver register.">pal_trx_reg_read</a>(uint8_t addr);
<a name="l00785"></a>00785 
<a name="l00796"></a>00796 <span class="keywordtype">void</span> <a class="code" href="a00032.html#gaa3bf62e2394e1a9b52fcd492c28f50dc" title="Writes data into a transceiver register.">pal_trx_reg_write</a>(uint8_t addr, uint8_t data);
<a name="l00797"></a>00797 
<a name="l00808"></a>00808 uint8_t <a class="code" href="a00032.html#gab06627709265af4e38e0eba63c6b59a9" title="Subregister read.">pal_trx_bit_read</a>(uint8_t addr, uint8_t mask, uint8_t pos);
<a name="l00809"></a>00809 
<a name="l00819"></a>00819 <span class="keywordtype">void</span> <a class="code" href="a00032.html#gabed0355d678d59c149f001310969044a" title="Subregister write.">pal_trx_bit_write</a>(uint8_t reg_addr, uint8_t mask, uint8_t pos, uint8_t new_value);
<a name="l00820"></a>00820 
<a name="l00821"></a>00821 <span class="preprocessor">#if defined(ENABLE_TRX_SRAM) || defined(DOXYGEN)</span>
<a name="l00822"></a>00822 <span class="preprocessor"></span>
<a name="l00832"></a>00832 <span class="keywordtype">void</span> <a class="code" href="a00032.html#ga899c7617e32527f31ead2ea40ecfe913" title="Reads data from SRAM of the transceiver.">pal_trx_sram_read</a>(uint8_t addr, uint8_t *data, uint8_t length);
<a name="l00833"></a>00833 
<a name="l00844"></a>00844 <span class="keywordtype">void</span> <a class="code" href="a00032.html#gacd0ec7338d4c138083371dbb2cd0b475" title="Writes data into SRAM of the transceiver.">pal_trx_sram_write</a>(uint8_t addr, uint8_t *data, uint8_t length);
<a name="l00845"></a>00845 
<a name="l00857"></a>00857 <span class="keywordtype">void</span> <a class="code" href="a00032.html#ga5bb1ad43cdcb0355b98b9b079ab618fd" title="Writes and reads data into/from SRAM of the transceiver.">pal_trx_aes_wrrd</a>(uint8_t addr, uint8_t *idata, uint8_t length);
<a name="l00858"></a>00858 <span class="preprocessor">#endif  </span><span class="comment">/* #ifdef ENABLE_TRX_SRAM */</span>
<a name="l00859"></a>00859 
<a name="l00860"></a>00860 <span class="preprocessor">#endif  </span><span class="comment">/* defined(PAL_USE_SPI_TRX) */</span>
<a name="l00861"></a>00861 
<a name="l00862"></a>00862 
<a name="l00863"></a>00863 <span class="preprocessor">#if defined(SIO_HUB) || defined(DOXYGEN)</span>
<a name="l00864"></a>00864 <span class="preprocessor"></span><span class="comment">/*</span>
<a name="l00865"></a>00865 <span class="comment"> * Prototypes for Stream I/O interface</span>
<a name="l00866"></a>00866 <span class="comment"> */</span>
<a name="l00877"></a>00877 retval_t <a class="code" href="a00032.html#ga35c32a5cd97ee3d95a674c671b3a36fd" title="Initializes the requested SIO unit.">pal_sio_init</a>(uint8_t sio_unit);
<a name="l00878"></a>00878 
<a name="l00891"></a>00891 uint8_t <a class="code" href="a00032.html#gafb909a340a129b588ab6f57cb8021699" title="Transmits data through selected SIO unit.">pal_sio_tx</a>(uint8_t sio_unit, uint8_t *data, uint8_t length);
<a name="l00892"></a>00892 
<a name="l00905"></a>00905 uint8_t <a class="code" href="a00032.html#gafeefcae8e891539a7140a6e2c7b43290" title="Receives data from selected SIO unit.">pal_sio_rx</a>(uint8_t sio_unit, uint8_t *data, uint8_t max_length);
<a name="l00906"></a>00906 <span class="preprocessor">#endif  </span><span class="comment">/* SIO_HUB */</span>
<a name="l00907"></a>00907 
<a name="l00908"></a>00908 
<a name="l00915"></a>00915 <span class="keywordtype">bool</span> <a class="code" href="a00032.html#ga9216e6959b59f0be0952c3d3a46f1df8" title="Calibrates the internal RC oscillator.">pal_calibrate_rc_osc</a>(<span class="keywordtype">void</span>);
<a name="l00916"></a>00916 
<a name="l00917"></a>00917 
<a name="l00918"></a>00918 <span class="comment">/*</span>
<a name="l00919"></a>00919 <span class="comment"> * Prototypes for persistence storage</span>
<a name="l00920"></a>00920 <span class="comment"> */</span>
<a name="l00932"></a>00932 retval_t <a class="code" href="a00032.html#gacdfefdb2d0670ac148ba156199f62178" title="Get data from persistence storage.">pal_ps_get</a>(<a class="code" href="a00021.html#a5b9c22e93fdff8192c3d7e2a27c470a4" title="IDs for persistence storage type.">ps_type_t</a> ps_type, uint16_t start_addr, uint16_t length, <span class="keywordtype">void</span> *value);
<a name="l00933"></a>00933 
<a name="l00944"></a>00944 retval_t <a class="code" href="a00032.html#ga4e10cc025eb8507fe5f176e21336da37" title="Write data to persistence storage.">pal_ps_set</a>(uint16_t start_addr, uint16_t length, <span class="keywordtype">void</span> *value);
<a name="l00945"></a>00945 
<a name="l00946"></a>00946 
<a name="l00954"></a>00954 <span class="keywordtype">void</span> <a class="code" href="a00032.html#ga80779665aa57408f41636b7b0a55e2dc" title="Alert indication.">pal_alert</a>(<span class="keywordtype">void</span>);
<a name="l00955"></a>00955 
<a name="l00956"></a>00956 
<a name="l00958"></a>00958 <span class="preprocessor">#if (DEBUG &gt; 0)</span>
<a name="l00959"></a>00959 <span class="preprocessor"></span><span class="keywordtype">void</span> pal_assert(<span class="keywordtype">bool</span> expression,
<a name="l00960"></a>00960                 FLASH_STRING_T message,
<a name="l00961"></a>00961                 int8_t *file,
<a name="l00962"></a>00962                 uint16_t line);
<a name="l00963"></a>00963 
<a name="l00964"></a>00964 <span class="comment">/* DEBUG only: Test for an assertion, similar to Std-C assert() */</span>
<a name="l00965"></a>00965 <span class="preprocessor">#define ASSERT(expr)    pal_assert(expr, FLASH_STRING( #expr ), (int8_t*)__FILE__, __LINE__)</span>
<a name="l00966"></a>00966 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00967"></a>00967 <span class="preprocessor"></span><span class="preprocessor">#define ASSERT(expr)</span>
<a name="l00968"></a>00968 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* (DEBUG &gt; 0) */</span>
<a name="l00969"></a>00969 
<a name="l00972"></a>00972 <span class="comment">/*</span>
<a name="l00973"></a>00973 <span class="comment"> * Public prototypes for pal_timer module</span>
<a name="l00974"></a>00974 <span class="comment"> */</span>
<a name="l00975"></a>00975 
<a name="l00976"></a>00976 <span class="preprocessor">#if (TOTAL_NUMBER_OF_TIMERS &gt; 0) || defined(DOXYGEN)</span>
<a name="l00977"></a>00977 <span class="preprocessor"></span>
<a name="l00998"></a>00998 retval_t <a class="code" href="a00032.html#gac1193577fceb4355c4ab1c1da84427ac" title="Start regular timer.">pal_timer_start</a>(uint8_t timer_id,
<a name="l00999"></a>00999                          uint32_t timer_count,
<a name="l01000"></a>01000                          <a class="code" href="a00021.html#a372aa39c6bac658707b2af4ff330479f">timeout_type_t</a> timeout_type,
<a name="l01001"></a>01001                          FUNC_PTR timer_cb,
<a name="l01002"></a>01002                          <span class="keywordtype">void</span> *param_cb);
<a name="l01003"></a>01003 <span class="preprocessor">#endif</span>
<a name="l01004"></a>01004 <span class="preprocessor"></span>
<a name="l01005"></a>01005 <span class="preprocessor">#if (TOTAL_NUMBER_OF_TIMERS &gt; 0) || defined(DOXYGEN)</span>
<a name="l01006"></a>01006 <span class="preprocessor"></span>
<a name="l01019"></a>01019 retval_t <a class="code" href="a00032.html#ga3275711bd05a3ff991b076a18d0bfbd9" title="Stops a running timer.">pal_timer_stop</a>(uint8_t timer_id);
<a name="l01020"></a>01020 <span class="preprocessor">#endif</span>
<a name="l01021"></a>01021 <span class="preprocessor"></span>
<a name="l01030"></a>01030 <span class="keywordtype">void</span> <a class="code" href="a00032.html#ga6d1d7c75f7a7e5fa6efb2cf797b2ca57" title="Gets current time.">pal_get_current_time</a>(uint32_t *current_time);
<a name="l01031"></a>01031 
<a name="l01032"></a>01032 
<a name="l01036"></a>01036 <span class="keywordtype">void</span> <a class="code" href="a00021.html#a5db1c656abbcbee8ce636786618837ef" title="LED initialization.">pal_led_init</a>(<span class="keywordtype">void</span>);
<a name="l01037"></a>01037 
<a name="l01045"></a>01045 <span class="keywordtype">void</span> <a class="code" href="a00032.html#ga163faa5bccd87aa81763fb5adb3eeb31" title="LED handling.">pal_led</a>(led_id_t led_no, <a class="code" href="a00021.html#a064eaf0a8ed6af4f3b2b0ec12448b815" title="LED action.">led_action_t</a> led_setting);
<a name="l01046"></a>01046 
<a name="l01047"></a>01047 
<a name="l01051"></a>01051 <span class="keywordtype">void</span> <a class="code" href="a00021.html#a0e9a00bb4939cba309acd84674481230" title="Button initialization.">pal_button_init</a>(<span class="keywordtype">void</span>);
<a name="l01052"></a>01052 
<a name="l01053"></a>01053 
<a name="l01064"></a>01064 <a class="code" href="a00021.html#a46b81c3077d03d654c0b66c153dc4d6b" title="Button action.">button_state_t</a> <a class="code" href="a00032.html#ga6a411de05aa4567f78559c0acfdf9505" title="Button handling.">pal_button_read</a>(button_id_t button_no);
<a name="l01065"></a>01065 
<a name="l01066"></a>01066 
<a name="l01076"></a>01076 <span class="keywordtype">void</span> <a class="code" href="a00032.html#ga91bff3cafb76b49930599fcee0839f04" title="Sleep/Power handling.">pal_sleep_mode</a>(uint8_t sleep_mode);
<a name="l01077"></a>01077 
<a name="l01078"></a>01078 
<a name="l01079"></a>01079 <span class="preprocessor">#if defined(NON_BLOCKING_SPI) || defined(DOXYGEN)</span>
<a name="l01080"></a>01080 <span class="preprocessor"></span>
<a name="l01086"></a>01086 <span class="keywordtype">void</span> <a class="code" href="a00032.html#ga0054d39cda675d501d7eb7f234a0e297" title="SPI done callback initialization.">pal_spi_done_cb_init</a>(<span class="keywordtype">void</span> *spi_done_cb);
<a name="l01087"></a>01087 <span class="preprocessor">#endif</span>
<a name="l01088"></a>01088 <span class="preprocessor"></span>
<a name="l01089"></a>01089 <span class="preprocessor">#if defined(WATCHDOG) || defined(SLEEPING_TIMER) || defined(DOXYGEN)</span>
<a name="l01090"></a>01090 <span class="preprocessor"></span><span class="preprocessor">#if (PAL_GENERIC_TYPE == XMEGA)</span>
<a name="l01091"></a>01091 <span class="preprocessor"></span>
<a name="l01095"></a>01095 <span class="keywordtype">void</span> <a class="code" href="a00021.html#adef69697e0f9fc455ecb560f7d2fbe59" title="Initialize the watchdog timer of the ATxmega1281.">wdt_init</a>(<span class="keywordtype">void</span>);
<a name="l01096"></a>01096 
<a name="l01101"></a>01101 <span class="keywordtype">void</span> <a class="code" href="a00021.html#a6bc0bb2de8e7fee4cd053e7c7f2796b8" title="Parallel Software timer initialization if the Sleeping timer (RTC) is not enabled to reset the Watchd...">wdt_parallel_timer_init</a>(<span class="keywordtype">void</span>);
<a name="l01102"></a>01102 
<a name="l01107"></a>01107 <span class="keywordtype">void</span> <a class="code" href="a00021.html#ad86977524db2012f365ef2886a203474" title="Initialization of Sleeping timer (RTC) of the Atxmega1281 when Watchdog Timer is not enabled...">sleeping_timer_without_wdt</a>(<span class="keywordtype">void</span>);
<a name="l01108"></a>01108 
<a name="l01117"></a>01117 <span class="keywordtype">void</span> <a class="code" href="a00021.html#a928b86a9a4ae3e0865f37ded1d5f765d" title="Initialization of Sleeping timer (RTC) of the Atxmega1281 when Watchdog Timer is enabled. The period for the Sleeping timer should be given by the user in this case and the period of the sleeping timer should be less than the time-out period of the watchdog timer.">sleeping_timer_with_wdt</a>(<span class="keywordtype">void</span>);
<a name="l01118"></a>01118 
<a name="l01122"></a>01122 <span class="keywordtype">void</span> <a class="code" href="a00021.html#a8f4fc0daec56fa3024ff829886773d46" title="Initialization of sleeping timer (RTC) of the Atxmega1281.">sleeping_timer_init</a>(<span class="keywordtype">void</span>);
<a name="l01123"></a>01123 
<a name="l01128"></a>01128 <span class="keywordtype">void</span> <a class="code" href="a00021.html#a98435caee9dd1cb8fa407b65d09259b1" title="Resets the watchdog timer of the ATxmega1281 before it reaches its time-out period.">wdt_clear</a>(<span class="keywordtype">void</span>);
<a name="l01129"></a>01129 
<a name="l01143"></a>01143 <span class="keywordtype">void</span> <a class="code" href="a00021.html#a34a49d012b978766470c677d42d2d3ff" title="Enable Watchdog and set prescaler.">pal_wdt_enable</a>( WDT_PER_t period );
<a name="l01144"></a>01144 
<a name="l01159"></a>01159 <span class="keywordtype">void</span> <a class="code" href="a00021.html#a7e5c4d88bfc154d3b4d770bdee95a90f" title="This function initializes the RTC with period, initial count, compare value and clock prescaler...">RTC_Initialize</a>( uint16_t period,
<a name="l01160"></a>01160                      uint16_t count,
<a name="l01161"></a>01161                      uint16_t compareValue,
<a name="l01162"></a>01162                      RTC_PRESCALER_t prescaler );
<a name="l01163"></a>01163 
<a name="l01170"></a>01170 <span class="keywordtype">void</span> <a class="code" href="a00021.html#a0c3ba8ad4827e008ce9fd0e1dcc3e0ea" title="This function sets both compare and overflow interrupt levels in one go.">RTC_SetIntLevels</a>( RTC_OVFINTLVL_t ovfIntLevel,
<a name="l01171"></a>01171                        RTC_COMPINTLVL_t compIntLevel );
<a name="l01172"></a>01172 <span class="preprocessor">#endif </span><span class="comment">/* (PAL_GENERIC_TYPE == XMEGA) */</span>
<a name="l01173"></a>01173 <span class="preprocessor">#endif </span><span class="comment">/* (defined(WATCHDOG) || defined(SLEEPING_TIMER) || defined(DOXYGEN)) */</span>
<a name="l01174"></a>01174 
<a name="l01182"></a>01182 uint16_t <a class="code" href="a00032.html#ga4a27de97759cbc170869c57de8892021" title="Generation of random seed for function srand() in case this is not supported by the transceiver (e...">pal_generate_rand_seed</a>(<span class="keywordtype">void</span>);
<a name="l01183"></a>01183 
<a name="l01184"></a>01184 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l01185"></a>01185 <span class="preprocessor"></span>} <span class="comment">/* extern &quot;C&quot; */</span>
<a name="l01186"></a>01186 <span class="preprocessor">#endif</span>
<a name="l01187"></a>01187 <span class="preprocessor"></span>
<a name="l01188"></a>01188 <span class="preprocessor">#endif  </span><span class="comment">/* PAL_H */</span>
<a name="l01189"></a>01189 <span class="comment">/* EOF */</span>
</pre></div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="a00021.html">pal.h</a>      </li>
<!$Id: atmel-footer.html 19276 2009-11-23 09:04:48Z sschneid $>
<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
  <title>@DOC_TITLE@</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css">
</head>
<body>

<table width="100%" height="10%" bgcolor="#FFFFFF">
  <tr>
    <td colspan="6" height="1" background="..//img//blue.gif"></td>
  </tr>

  <tr>
    <td colspan="6">
    <address style="align: right;"><small>
Generated on Wed Oct 19 2011 09:37:06 for IEEE 802.15.4-2006 MAC Reference Manual by <a href="http://www.doxygen.org/index.html"><img src="doxygen.png" alt="doxygen" align="middle" border=0></a> 1.7.4</small></address>
    </td>
  </tr>

</table>
